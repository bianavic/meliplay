DROP DATABASE IF EXISTS MELIPLAY;

CREATE DATABASE MELIPLAY;

USE MELIPLAY;

DROP TABLE IF EXISTS MUSICAS;
CREATE TABLE MUSICAS
(
    ID         INT              NOT NULL AUTO_INCREMENT UNIQUE,
    NOME       VARCHAR(255),
    PREMIO     int(10) UNSIGNED NOT NULL DEFAULT '0',
    ID_GENERO  INT,
    ID_ARTISTA INT,
    ANO        INT,
    PRIMARY KEY (ID)
);

DROP TABLE IF EXISTS ALBUNS;
CREATE TABLE ALBUNS
(
    ID         INT NOT NULL AUTO_INCREMENT UNIQUE,
    NOME       VARCHAR(255),
    PAIS       VARCHAR(100),
    LANCAMENTO DATE,
    PRIMARY KEY (ID)
);

DROP TABLE IF EXISTS ARTISTAS;
CREATE TABLE ARTISTAS
(
    ID    INT NOT NULL AUTO_INCREMENT UNIQUE,
    NOME  VARCHAR(255),
    IDADE INT(10),
    PRIMARY KEY (ID)
);

DROP TABLE IF EXISTS GENEROS;
CREATE TABLE GENEROS
(
    ID   INT NOT NULL AUTO_INCREMENT UNIQUE,
    NOME VARCHAR(255),
    PRIMARY KEY (ID)
);

DROP TABLE IF EXISTS MUSICAS_ALBUM;
CREATE TABLE MUSICAS_ALBUM
(
    ID        INT NOT NULL AUTO_INCREMENT UNIQUE,
    ID_MUSICA INT,
    ID_ALBUM  INT,
    DURACAO   INT,
    PRIMARY KEY (ID)
);

ALTER TABLE MUSICAS
    ADD FOREIGN KEY (ID_GENERO) REFERENCES GENEROS (ID)
        ON UPDATE NO ACTION ON DELETE NO ACTION;
ALTER TABLE MUSICAS
    ADD FOREIGN KEY (ID_ARTISTA) REFERENCES ARTISTAS (ID)
        ON UPDATE NO ACTION ON DELETE NO ACTION;
ALTER TABLE MUSICAS_ALBUM
    ADD FOREIGN KEY (ID_MUSICA) REFERENCES MUSICAS (ID)
        ON UPDATE NO ACTION ON DELETE NO ACTION;
ALTER TABLE MUSICAS_ALBUM
    ADD FOREIGN KEY (ID_ALBUM) REFERENCES ALBUNS (ID)
        ON UPDATE NO ACTION ON DELETE NO ACTION;

-- Generos
INSERT INTO GENEROS
VALUES (1, 'rock'),
       (2, 'pop'),
       (3, 'latin'),
       (4, 'country'),
       (5, 'folk'),
       (6, 'jazz'),
       (7, 'classical'),
       (8, 'hip-hop'),
       (9, 'rap'),
       (10, 'samba'),
       (11, 'mpb'),
       (12, 'pagode'),
       (13, 'jazz'),
       (14, 'R&B'),
       (15, 'trap');

-- Artistas
INSERT INTO ARTISTAS (NOME, IDADE)
VALUES ('The Weeknd', 34);
INSERT INTO ARTISTAS (NOME, IDADE)
VALUES ('Travis Scott', 32);
INSERT INTO ARTISTAS (NOME, IDADE)
VALUES ('Taylor Swift', 34),
       ('Leonard Cohen', 82),
       ('50 Cent', 48),
       ('Pink', 44),
       ('Dr Dre', 59),
       ('Zaz', 44),
       ('Morcheeba', 49),
       ('Tupac Shakur', 25);

-- Albuns
INSERT INTO ALBUNS (NOME, PAIS, LANCAMENTO)
VALUES ('Dawn FM', 'EUA', '2022-01-07'),
       ('After Hours', 'EUA', '2020-03-20'),
       ('Folklore', 'EUA', '2020-07-24'),
       ('Altroworld', 'EUA', '2018-08-03'),
       ('The Future', 'EUA', '1992-11-24'),
       ('Trustfall', 'EUA', '2023-02-27'),
       ('Zaz', 'FR', '2010-05-10'),
       ('Fragments of Freedom', 'UK', '2000-07-03');

-- Musicas
INSERT INTO MUSICAS (NOME, ID_GENERO, ID_ARTISTA, ANO, PREMIO)
VALUES ('Gasoline', 14, 1, 2024, 15);
INSERT INTO MUSICAS (NOME, ID_GENERO, ID_ARTISTA, ANO, PREMIO)
VALUES ('Sacrifice', 14, 1, 2024, 54);
INSERT INTO MUSICAS (NOME, ID_GENERO, ID_ARTISTA, ANO, PREMIO)
VALUES ('Take My Breath', 14, 1, 2024, 2);
INSERT INTO MUSICAS (NOME, ID_GENERO, ID_ARTISTA, ANO, PREMIO)
VALUES ('Out of Time', 14, 1, 2024, 3);
INSERT INTO MUSICAS (NOME, ID_GENERO, ID_ARTISTA, ANO, PREMIO)
VALUES ('Less Than Zero', 14, 1, 2024, 4);
INSERT INTO MUSICAS (NOME, ID_GENERO, ID_ARTISTA, ANO, PREMIO)
VALUES ('How do I Make You Love Me', 14, 1, 2024, 2);
INSERT INTO MUSICAS (NOME, ID_GENERO, ID_ARTISTA, ANO, PREMIO)
VALUES ('Blinding Lights', 14, 1, 2024, 1);
INSERT INTO MUSICAS (NOME, ID_GENERO, ID_ARTISTA, ANO, PREMIO)
VALUES ('Save Your Tears', 14, 1, 2024, 0);
INSERT INTO MUSICAS (NOME, ID_GENERO, ID_ARTISTA, ANO, PREMIO)
VALUES ('Heartless', 14, 1, 2024, 8);
INSERT INTO MUSICAS (NOME, ID_GENERO, ID_ARTISTA, ANO, PREMIO)
VALUES ('In Your Eyes', 14, 1, 2024, 7);
INSERT INTO MUSICAS (NOME, ID_GENERO, ID_ARTISTA, ANO, PREMIO)
VALUES ('STARGAZING', 15, 2, 2024, 2);
INSERT INTO MUSICAS (NOME, ID_GENERO, ID_ARTISTA, ANO, PREMIO)
VALUES ('CAROUSEL', 15, 2, 2024, 1);
INSERT INTO MUSICAS (NOME, ID_GENERO, ID_ARTISTA, ANO, PREMIO)
VALUES ('SICKO MODE', 15, 2, 2024, 0);
INSERT INTO MUSICAS (NOME, ID_GENERO, ID_ARTISTA, ANO, PREMIO)
VALUES ('R.I.P. SCREW', 15, 2, 2024, 2);
INSERT INTO MUSICAS (NOME, ID_GENERO, ID_ARTISTA, ANO, PREMIO)
VALUES ('Exile', 5, 3, 2020, 1),
       ('Im Your Man', 2, 4, 1988, 2),
       ('Hallelujah', 5, 4, 1984, 1),
       ('All Too Well', 5, 3, 2022, 6),
       ('Still D.r.e.', 8, 7, 1999, 1),
       ('Ambitionz Az A Ridah', 9, 10, 2005, 1),
       ('Rome Wasnt Built in a Day', 2, 9, 2000, 1),
       ('All I Know So Far', 2, 6, 2005, 3),
       ('Trustfall', 2, 6, 2023, 1);

-- Musicas_album (Relação)
INSERT INTO MUSICAS_ALBUM (ID_MUSICA, ID_ALBUM, DURACAO)
VALUES (1, 1, 180);
INSERT INTO MUSICAS_ALBUM (ID_MUSICA, ID_ALBUM, DURACAO)
VALUES (2, 1, 146);
INSERT INTO MUSICAS_ALBUM (ID_MUSICA, ID_ALBUM, DURACAO)
VALUES (3, 1, 158);
INSERT INTO MUSICAS_ALBUM (ID_MUSICA, ID_ALBUM, DURACAO)
VALUES (4, 1, 210);
INSERT INTO MUSICAS_ALBUM (ID_MUSICA, ID_ALBUM, DURACAO)
VALUES (5, 1, 132);
INSERT INTO MUSICAS_ALBUM (ID_MUSICA, ID_ALBUM, DURACAO)
VALUES (6, 1, 212);
INSERT INTO MUSICAS_ALBUM (ID_MUSICA, ID_ALBUM, DURACAO)
VALUES (7, 2, 200);
INSERT INTO MUSICAS_ALBUM (ID_MUSICA, ID_ALBUM, DURACAO)
VALUES (8, 2, 190);
INSERT INTO MUSICAS_ALBUM (ID_MUSICA, ID_ALBUM, DURACAO)
VALUES (9, 2, 200);
INSERT INTO MUSICAS_ALBUM (ID_MUSICA, ID_ALBUM, DURACAO)
VALUES (10, 2, 210);
INSERT INTO MUSICAS_ALBUM (ID_MUSICA, ID_ALBUM, DURACAO)
VALUES (11, 3, 180);
INSERT INTO MUSICAS_ALBUM (ID_MUSICA, ID_ALBUM, DURACAO)
VALUES (12, 3, 190);
INSERT INTO MUSICAS_ALBUM (ID_MUSICA, ID_ALBUM, DURACAO)
VALUES (13, 3, 200);
INSERT INTO MUSICAS_ALBUM (ID_MUSICA, ID_ALBUM, DURACAO)
VALUES (14, 3, 210);
INSERT INTO MUSICAS_ALBUM (ID_MUSICA, ID_ALBUM, DURACAO)
VALUES (15, 3, 210);
INSERT INTO MUSICAS_ALBUM (ID_MUSICA, ID_ALBUM, DURACAO)
VALUES (16, 5, 210);
INSERT INTO MUSICAS_ALBUM (ID_MUSICA, ID_ALBUM, DURACAO)
VALUES (17, 5, 210);
INSERT INTO MUSICAS_ALBUM (ID_MUSICA, ID_ALBUM, DURACAO)
VALUES (18, 3, 210);
INSERT INTO MUSICAS_ALBUM (ID_MUSICA, ID_ALBUM, DURACAO)
VALUES (19, 4, 210);
INSERT INTO MUSICAS_ALBUM (ID_MUSICA, ID_ALBUM, DURACAO)
VALUES (20, 6, 210);
INSERT INTO MUSICAS_ALBUM (ID_MUSICA, ID_ALBUM, DURACAO)
VALUES (21, 8, 044);
INSERT INTO MUSICAS_ALBUM (ID_MUSICA, ID_ALBUM, DURACAO)
VALUES (22, 4, 210);
INSERT INTO MUSICAS_ALBUM (ID_MUSICA, ID_ALBUM, DURACAO)
VALUES (23, 7, 043);